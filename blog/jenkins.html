<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>jenkins搭建 + pm2 启动项目 | 小明的docment</title>
    <meta name="description" content="关于小明的文档">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script")
        hm.src = "https://hm.baidu.com/hm.js?6cd2cc405ca7d5f413790a2181ed53e7"
        var s = document.getElementsByTagName("script")[0]
        s.parentNode.insertBefore(hm, s)
      })()
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.46bcc624.css" as="style"><link rel="preload" href="/assets/js/app.d56d54d5.js" as="script"><link rel="preload" href="/assets/js/2.0534fa10.js" as="script"><link rel="preload" href="/assets/js/5.e5b20c49.js" as="script"><link rel="prefetch" href="/assets/js/10.1a39355f.js"><link rel="prefetch" href="/assets/js/11.1e415d99.js"><link rel="prefetch" href="/assets/js/12.5e9877fa.js"><link rel="prefetch" href="/assets/js/13.51f68b80.js"><link rel="prefetch" href="/assets/js/14.f38e2984.js"><link rel="prefetch" href="/assets/js/15.61779e81.js"><link rel="prefetch" href="/assets/js/16.b0654b1c.js"><link rel="prefetch" href="/assets/js/17.e7ab0c85.js"><link rel="prefetch" href="/assets/js/18.7e238fc2.js"><link rel="prefetch" href="/assets/js/19.a9f7b991.js"><link rel="prefetch" href="/assets/js/20.3aad2be6.js"><link rel="prefetch" href="/assets/js/21.4d55085e.js"><link rel="prefetch" href="/assets/js/22.a04f2017.js"><link rel="prefetch" href="/assets/js/23.ed906f1e.js"><link rel="prefetch" href="/assets/js/24.5e680890.js"><link rel="prefetch" href="/assets/js/25.23ef539a.js"><link rel="prefetch" href="/assets/js/26.1a98f261.js"><link rel="prefetch" href="/assets/js/27.4940a424.js"><link rel="prefetch" href="/assets/js/3.c3c01f9a.js"><link rel="prefetch" href="/assets/js/4.c11a2008.js"><link rel="prefetch" href="/assets/js/6.da4381e1.js"><link rel="prefetch" href="/assets/js/7.b09efff3.js"><link rel="prefetch" href="/assets/js/8.2983a641.js"><link rel="prefetch" href="/assets/js/9.4ecec881.js">
    <link rel="stylesheet" href="/assets/css/0.styles.46bcc624.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小明的docment</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mdRules.html" class="nav-link">md语法</a></li><li class="dropdown-item"><!----> <a href="/blog/vue-element.html" class="nav-link">vue-elementUI</a></li><li class="dropdown-item"><!----> <a href="/blog/demo.html" class="nav-link">demo</a></li><li class="dropdown-item"><!----> <a href="/blog/echarts.html" class="nav-link">echarts</a></li><li class="dropdown-item"><!----> <a href="/blog/js基础.html" class="nav-link">js基础</a></li><li class="dropdown-item"><!----> <a href="/blog/vuessr.html" class="nav-link">vuessr</a></li><li class="dropdown-item"><!----> <a href="/blog/mini-program.html" class="nav-link">小程序的坑</a></li><li class="dropdown-item"><!----> <a href="/blog/website.html" class="nav-link">阿里云建站</a></li><li class="dropdown-item"><!----> <a href="/blog/jenkins.html" class="nav-link router-link-exact-active router-link-active">jenkins搭建</a></li><li class="dropdown-item"><!----> <a href="/blog/react.html" class="nav-link">react笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/angular.html" class="nav-link">angular笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/h5.html" class="nav-link">H5</a></li><li class="dropdown-item"><!----> <a href="/blog/chrome.html" class="nav-link">chorme</a></li><li class="dropdown-item"><!----> <a href="/blog/mianshi.html" class="nav-link">常见冷知识</a></li><li class="dropdown-item"><!----> <a href="/blog/aa.html" class="nav-link">待整理</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/guangming95" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/mdRules.html" class="nav-link">md语法</a></li><li class="dropdown-item"><!----> <a href="/blog/vue-element.html" class="nav-link">vue-elementUI</a></li><li class="dropdown-item"><!----> <a href="/blog/demo.html" class="nav-link">demo</a></li><li class="dropdown-item"><!----> <a href="/blog/echarts.html" class="nav-link">echarts</a></li><li class="dropdown-item"><!----> <a href="/blog/js基础.html" class="nav-link">js基础</a></li><li class="dropdown-item"><!----> <a href="/blog/vuessr.html" class="nav-link">vuessr</a></li><li class="dropdown-item"><!----> <a href="/blog/mini-program.html" class="nav-link">小程序的坑</a></li><li class="dropdown-item"><!----> <a href="/blog/website.html" class="nav-link">阿里云建站</a></li><li class="dropdown-item"><!----> <a href="/blog/jenkins.html" class="nav-link router-link-exact-active router-link-active">jenkins搭建</a></li><li class="dropdown-item"><!----> <a href="/blog/react.html" class="nav-link">react笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/angular.html" class="nav-link">angular笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/h5.html" class="nav-link">H5</a></li><li class="dropdown-item"><!----> <a href="/blog/chrome.html" class="nav-link">chorme</a></li><li class="dropdown-item"><!----> <a href="/blog/mianshi.html" class="nav-link">常见冷知识</a></li><li class="dropdown-item"><!----> <a href="/blog/aa.html" class="nav-link">待整理</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/guangming95" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>jenkins搭建 + pm2 启动项目</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/blog/jenkins.html#安装jenkins" class="sidebar-link">安装jenkins</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#启动jenkins" class="sidebar-link">启动jenkins</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#初始化jenkins" class="sidebar-link">初始化jenkins</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#安装项目中所需插件-我主要是用于前端项目构建，基于node" class="sidebar-link">安装项目中所需插件 (我主要是用于前端项目构建，基于node)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#新建项目" class="sidebar-link">新建项目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#构建项目" class="sidebar-link">构建项目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#pm2-启动项目-jenkins-与-pm2-运行在同一服务器" class="sidebar-link">pm2 启动项目 (jenkins 与 pm2 运行在同一服务器)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#后续操作" class="sidebar-link">后续操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/jenkins.html#相关链接" class="sidebar-link">相关链接</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><p>经过了2天的尝试，jenkins终于搭建调试ok，在搭建的时候，也遇到了很多问题，也是在Google中解决的，有问题欢迎一起讨论。</p> <p>搭建环境：
阿里云服务器</p> <h2 id="安装jenkins"><a href="#安装jenkins" aria-hidden="true" class="header-anchor">#</a> 安装jenkins</h2> <ol><li>添加 Yum 仓库源并安装 Jenkins</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code># wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
# rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
# yum install jenkins
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>安装 Java 并 保证 Java 版本在 8 或以上 (如安装过，可忽略)</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>yum install java
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li><p>jenkins安装目录： <code>/var/lib/jenkins/</code> 配置文件地址： <code>/etc/sysconfig/jenkins</code></p></li> <li><p>比较重要的三个配置项</p></li></ol> <ul><li><code>JENKINS_HOME</code> 是Jenkins的主目录，Jenkins工作的目录都放在这里,Jenkins储存文件的地址，Jenkins的插件，生成的文件都在这个目录下。</li> <li><code>JENKINS_USER</code> 是Jenkins的用户，拥有 <code>$JENKINS_HOME</code> 和 <code>/var/log/jenkins</code> 的权限。</li> <li><code>JENKINS_PORT</code> 是Jenkins的端口，默认端口是 <code>8080</code>。</li></ul> <ol start="5"><li>启动命令 <code>service jenkins start</code> ；停止命令 <code>service jenkins stop</code></li></ol> <hr> <h2 id="启动jenkins"><a href="#启动jenkins" aria-hidden="true" class="header-anchor">#</a> 启动jenkins</h2> <ol><li><p>安装好后，我们可以通过 <code>ip + 端口</code> 进行打开初始化配置； 如： <code>192.168.0.3:8080</code>；默认端口为 <code>8080</code>,防止项目冲突可修改端口地址；</p></li> <li><p>修改端口地址为 <code>8888</code> (自行选择，可忽略这步)</p></li></ol> <ul><li>进入配置文件目录 <code>/etc/sysconfig</code> 然后选择 <code>jenkins</code> 文件编辑。</li> <li>找到 <code>JENKINS_PORT=&quot;8080&quot;</code> 可将 <code>8080</code> 修改为自己想开启的端口，保存退出即可。</li></ul> <ol start="3"><li>启动jenkins  <code>service jenkins start</code></li></ol> <div class="tip custom-block"><p class="custom-block-title">常见问题</p> <ol><li>启动后，如果通过浏览器访问 <code>ip+端口</code> 无法访问情况，请检查服务器安全组端口是否开启，及防火墙是否放行该端口。</li></ol></div> <ol start="4"><li>启动成功</li></ol> <p><img src="/assets/img/1.8daa198c.png" alt="启动成功"></p> <hr> <h2 id="初始化jenkins"><a href="#初始化jenkins" aria-hidden="true" class="header-anchor">#</a> 初始化jenkins</h2> <ol><li><p>查看密码  <code>vim /var/lib/jenkins/secrets/initialAdminPassword</code></p></li> <li><p>安装插件--选择推荐安装插件(自定义也是可以的)</p></li></ol> <p><img src="/assets/img/2.817b66c5.png" alt="推荐安装插件"></p> <ol start="3"><li>安装中……</li></ol> <p><img src="/assets/img/3.eb372aaf.png" alt="安装中"></p> <ol start="4"><li>创建管理员用户</li></ol> <p><img src="/assets/img/4.779927bc.png" alt="创建管理员用户"></p> <ol start="5"><li>初始化成功</li></ol> <p><img src="/assets/img/5.bbceb00b.png" alt="初始化成功"></p> <ol start="6"><li>开始使用</li></ol> <p><img src="/assets/img/6.31f9448a.png" alt="开始使用"></p> <p><img src="/assets/img/7.2180ba1c.png" alt="开始使用"></p> <hr> <h2 id="安装项目中所需插件-我主要是用于前端项目构建，基于node"><a href="#安装项目中所需插件-我主要是用于前端项目构建，基于node" aria-hidden="true" class="header-anchor">#</a> 安装项目中所需插件 (我主要是用于前端项目构建，基于node)</h2> <ol><li>进入全局设置</li></ol> <p><img src="/assets/img/01.d541d4e9.png" alt="开始使用"></p> <ol start="2"><li>插件管理</li></ol> <p><img src="/assets/img/02.0d0f15f8.png" alt="开始使用"></p> <ol start="3"><li>搜索插件</li></ol> <p><img src="/assets/img/03.d17e7c7a.png" alt="开始使用"> <img src="/assets/img/04.569cee93.png" alt="开始使用"></p> <ol start="4"><li>插件安装</li></ol> <p>我这里启动node服务，搜索 <code>NodeJS Plugin</code> 进行安装即可</p> <hr> <h2 id="新建项目"><a href="#新建项目" aria-hidden="true" class="header-anchor">#</a> 新建项目</h2> <p>这里是基于 coding 配置， github 与 gitlub 原理相似……</p> <ol><li>新建项目</li></ol> <p><img src="/assets/img/8.24501a3d.png" alt="新建项目"></p> <ol start="2"><li>填写信息-选择第一个-构建自由风格的软件项目(忽略任务名已存在的提示)</li></ol> <p><img src="/assets/img/9.81a527d5.png" alt="填写信息"></p> <div class="tip custom-block"><p class="custom-block-title">常见问题</p> <ol><li>如果上面的页面点击保存后有报错，报错信息为： xxx堆栈追踪(现在没办法复现，所以没有截图，但当时遇到了)</li></ol> <blockquote><p>解决方法：
进入jenkins/plugins， 删除localization-zh-cn*, 重启Jenkins可解决。 应该是个BUG    2.151以后有这现象</p></blockquote></div> <ol start="3"><li>填写项目配置信息</li></ol> <p><img src="/assets/img/10.019eec37.png" alt="填写信息"></p> <ol start="4"><li>添加git 用户名密码</li></ol> <p><img src="/assets/img/11.c6e37f97.png" alt="添加git信息"></p> <div class="tip custom-block"><p class="custom-block-title">常见问题</p> <ol><li>git无法通过验证</li></ol> <ul><li>要保证git地址正确</li> <li>保证用户密码填写正确</li> <li>但还无法通过验证
<img src="/assets/img/12.3b8fe67c.png" alt="git无法通过验证"></li></ul> <blockquote><p>主要看下本地终端执行git命令的用户和jenkins启动用户是不是相同。
jenkins的启动的默认用户是jenkins用户，可以在jenkins的配置文件修改。</p></blockquote> <p><strong>解决办法：</strong> 进入jenkins配置文件 <code>/etc/sysconfig/jenkins</code>  查找 <code>JENKINS_USER=&quot;jenkins&quot;</code> ，修改为服务器用户，一般为 <code>root</code> 故修改为 <code>JENKINS_USER=&quot;root&quot;</code> ，保存后重启jenkins</p></div> <ol start="3"><li>项目配置信息</li></ol> <p><img src="/assets/img/13.77dcb8e5.png" alt="项目构建配置信息"></p> <p><img src="/assets/img/14.295e0ddd.png" alt="项目构建配置信息"></p> <blockquote><p>打印出相关信息，方便发布失败时在log中查询问题及查看打包信息</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
# 输出当前环境
echo '开始项目构建命令'
echo $PATH
node -v
npm -v
echo '当前分支'
git branch
# 切换拉取代码
echo '拉取代码'
git pull origin master
# 安装依赖库
echo '安装依赖库'
npm install
# 执行打包
echo '开始打包'
#npm run build-prod
# 打包构建后的文件
#tar -cvf demo.tar ./dist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><hr> <h2 id="构建项目"><a href="#构建项目" aria-hidden="true" class="header-anchor">#</a> 构建项目</h2> <ol><li>点击项目名称</li></ol> <p><img src="/assets/img/15.2d51f246.png" alt="点击项目名称"></p> <ol start="2"><li>选择立即构建</li></ol> <p><img src="/assets/img/16.1eff156e.png" alt="选择立即构建"></p> <ol start="3"><li>构建中……</li></ol> <p><img src="/assets/img/17.a8c9d2aa.png" alt="构建中"></p> <ol start="4"><li>构建完成</li></ol> <p><img src="/assets/img/18.0664c781.png" alt="构建完成"></p> <ol start="5"><li>可以点进去，查看详细信息(红框为该次git提交记录的文字信息)</li></ol> <p><img src="/assets/img/19.85a2c278.png" alt="详细信息"></p> <ol start="6"><li>查看控制台输出信息</li></ol> <p><img src="/assets/img/20.cadfc2ec.png" alt="控制台输出信息"></p> <hr> <h2 id="pm2-启动项目-jenkins-与-pm2-运行在同一服务器"><a href="#pm2-启动项目-jenkins-与-pm2-运行在同一服务器" aria-hidden="true" class="header-anchor">#</a> pm2 启动项目 (jenkins 与 pm2 运行在同一服务器)</h2> <ol><li>查看编译后路径</li></ol> <p><img src="/assets/img/20.cadfc2ec.png" alt="控制台输出信息"></p> <p>上面控制台输出中有打印输出目录，由于只是个人搭建尝试，所以项目运行服务器与jenkins构建都在统一服务起，所以只需将jenkins构建后存储空间改为项目运行目录即可。</p> <ol start="2"><li>修改jenkins编译后保存空间</li></ol> <ul><li>进入安装目录 <code>/var/lib/jenkins/</code></li> <li>找到 <code>config.xml</code> 文件</li> <li>找到 <code>&lt;workspaceDir&gt;${JENKINS_HOME}/workspace/${ITEM_FULL_NAME}&lt;/workspaceDir&gt;</code> 代码</li> <li>更新为自己想保存的路径</li> <li>由于我运行在 <code>/www/wwwroot</code> 的目录</li> <li>保存为 <code>&lt;workspaceDir&gt;/www/wwwroot/${ITEM_FULL_NAME}&lt;/workspaceDir&gt;</code></li> <li>后面为项目名称，自动生成文件夹</li></ul> <ol start="3"><li>进入打包后的文件夹</li></ol> <p><img src="/assets/img/21.3480deb1.png" alt="cmd操作"></p> <ul><li>app.js 为启动文件</li> <li>ecosystem.config.js 为pm2配置文件，也可以启动项目</li></ul> <p>ecosystem.config.js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>module.exports = {
  apps : [{
    name: 'hello',
    script: './app.js',
    watch: true,
    ignore_watch: ['node_modules', 'log'],
    env: {
      NODE_ENV: 'development'
    },
    env_production: {
      NODE_ENV: 'production'
    },
    max_memory_restart: '300M'
  }],
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="4"><li>启动项目</li></ol> <ul><li>如有配置文件，可以执行 <code>pm2 start ecosystem.config.js</code> (ecosystem.config.js) 为 pm2 配置文件名</li> <li>如没有配置文件 <code>pm2 start app.js --watch</code>  (其中 <code>--watch</code> 为监听文件夹中文件，如有改变，将自动重载pm2服务)</li></ul> <ol start="5"><li>启动成功</li></ol> <ul><li>输入 <code>pm2 ls</code> 查看 pm2 进程</li></ul> <p><img src="/assets/img/22.28132ff0.png" alt="pm2进程"></p> <p>服务启动成功，可以通过 <code>ip + 服务端口</code> 进行访问啦</p> <hr> <h2 id="后续操作"><a href="#后续操作" aria-hidden="true" class="header-anchor">#</a> 后续操作</h2> <ol><li>开启pm2监听</li></ol> <ul><li>每次代码更新后 <code>push</code> 到远程后，通过 jenkins 构建后，即可访问最新代码</li></ul> <ol start="2"><li>未开启pm2监听</li></ol> <ul><li>每次代码更新后 <code>push</code> 到远程后，通过 jenkins 构建后，需要执行 <code>pm2 restart</code> 即可访问最新代码</li></ul> <hr> <h2 id="相关链接"><a href="#相关链接" aria-hidden="true" class="header-anchor">#</a> 相关链接</h2> <p><a href="https://blog.cubat.cc/2018/10/learn-jenkins.html" target="_blank" rel="noopener noreferrer">JENKINS 学习笔记<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://segmentfault.com/q/1010000017141143" target="_blank" rel="noopener noreferrer">jenkins系统管理报错？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.jianshu.com/p/381e009e4828" target="_blank" rel="noopener noreferrer">Jenkins 持续部署Node 应用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.jianshu.com/p/ed0edb93e234" target="_blank" rel="noopener noreferrer">解决在Mac下搭建Jenkins+GitLab持续集成环境踩到的坑（一）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://segmentfault.com/q/1010000012794304" target="_blank" rel="noopener noreferrer">jenkins 连接github时，总是提示Permission denied (publickey)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.oschina.net/question/3400183_2287096" target="_blank" rel="noopener noreferrer">新版本Jenkins 工作里面和构建记录根目录怎么配置？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="valine-container" data-v-1aaa9290><section style="border-top: 2px solid #eaecef;padding-top:1rem;margin-top:2rem;" data-v-1aaa9290><div data-v-1aaa9290><span data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1aaa9290><em class="post-meta-item-text" data-v-1aaa9290>阅读量： </em> <i class="leancloud-visitors-count" data-v-1aaa9290></i></span></div> <h3 data-v-1aaa9290><a href="javascript:;" data-v-1aaa9290></a>
      评 论：
    </h3> <div id="vcomments" data-v-1aaa9290></div></section></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/28/2019, 2:25:49 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.d56d54d5.js" defer></script><script src="/assets/js/2.0534fa10.js" defer></script><script src="/assets/js/5.e5b20c49.js" defer></script>
  </body>
</html>
