(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{214:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#vue首屏渲染，白屏，原因与解决办法"}},[t._v("Vue首屏渲染，白屏，原因与解决办法")])]),s("li",[s("a",{attrs:{href:"#为什么不用vue，-对于-vue-在比较大的醒目的情况下，容易出现内存泄露的原因是什么"}},[t._v("为什么不用vue， 对于 vue 在比较大的醒目的情况下，容易出现内存泄露的原因是什么")])]),s("li",[s("a",{attrs:{href:"#object-defineproperty-能不能监听数组？"}},[t._v("Object.defineProperty() 能不能监听数组？")])]),s("li",[s("a",{attrs:{href:"#为什么在vue2源码里重新数据的监听和操作方法？？"}},[t._v("为什么在vue2源码里重新数据的监听和操作方法？？")])]),s("li",[s("a",{attrs:{href:"#vue2数组怎么处理的？？"}},[t._v("vue2数组怎么处理的？？")])]),s("li",[s("a",{attrs:{href:"#keep-alive-如何实现？？"}},[t._v("keep-alive 如何实现？？")])]),s("li",[s("a",{attrs:{href:"#set-做了什么处理"}},[t._v("$set 做了什么处理")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"vue首屏渲染，白屏，原因与解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue首屏渲染，白屏，原因与解决办法","aria-hidden":"true"}},[t._v("#")]),t._v(" Vue首屏渲染，白屏，原因与解决办法")]),t._v(" "),s("p",[t._v("SPA ---\x3e 单页")]),t._v(" "),s("p",[t._v("FP（first Paint）第一帧渲染\nFCP（first Content paint） 首次内容渲染\nFMP（first meaning paint）首次有意义的渲染")]),t._v(" "),s("p",[t._v("骨架屏在FP过程实用")]),t._v(" "),s("p",[t._v("加载过程：\n===> html   FP --\x3e html页面加载下来\n<静态资源>\n")]),s("div",{attrs:{id:"app"}}),t._v("\n===> 静态资源 css js\n==> 解析js ==> 生成html   FCP ---\x3e css、js静态资源加载下来\n===> ajax请求数据         FMP ---\x3e ajax数据请求回来\n--------------------------以上为白屏"),s("p"),t._v(" "),s("p",[t._v("解决：")]),t._v(" "),s("ol",[s("li",[t._v("路由动态加载，提取公共库")])]),t._v(" "),s("p",[t._v("在babel 里配置 plugin-syntax-dynamic-import ==> 路由动态加载  （配置webpack： optimization.splitChunks)")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("ssr 预渲染 同构")])]),t._v(" "),s("p",[t._v("ssr => 服务端渲染 （php， jsp）\n同构渲染 ==> 一套代码多端使用（vue react nuxt）\nvue ----\x3e json  ----\x3e vue-server-render ----\x3e html\n预渲染 ===>  预渲染  webpack  vue打包出来的项目 ---\x3e 无头浏览器 --\x3e 获取到预渲染的页面html内容 ----\x3e index.html ----\x3e CDN ---\x3e index.html")]),t._v(" "),s("p",[t._v("ssr (会有并发问题)\n=== 请求 ===>  node（执行vue项目）===> html  ===>  客户端")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("loading --\x3e 骨架屏 --\x3e 预渲染")])]),t._v(" "),s("li",[s("p",[t._v("webpack entry")])]),t._v(" "),s("li",[s("p",[t._v("资源请求时间片的处理")])]),t._v(" "),s("li",[s("p",[t._v("CDN")])]),t._v(" "),s("li",[s("p",[t._v("quicklink ---\x3e 在浏览器空闲的时候去解析预加载我可能要跳转的页面\nprefetch   preload  preconnect")]),t._v(" "),s("p",[t._v("preload\n"),s("link",{attrs:{rel:"preload"}}),t._v(" ===>")]),t._v(" "),s("p",[t._v("prefetch\nlink prefetch   页面空闲的时候，加载对应资源\n"),s("link",{attrs:{rel:"prefetch",href:"/3423.png"}}),t._v("\nDNS  udp协议\n"),s("link",{attrs:{rel:"dns-prefetch",href:"www.baidu.com"}}),t._v("\n移动端优化\nprerendering  提前请求\n"),s("link",{attrs:{rel:"prerendering",href:"www.baidu.com"}})]),t._v(" "),s("p",[t._v("preconnect\nDNS TLS协商  TCP握手")])])]),t._v(" "),s("h2",{attrs:{id:"为什么不用vue，-对于-vue-在比较大的醒目的情况下，容易出现内存泄露的原因是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么不用vue，-对于-vue-在比较大的醒目的情况下，容易出现内存泄露的原因是什么","aria-hidden":"true"}},[t._v("#")]),t._v(" 为什么不用vue， 对于 vue 在比较大的醒目的情况下，容易出现内存泄露的原因是什么")]),t._v(" "),s("ol",[s("li")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("组件a\n\n<template></template>\n<script>\n  import {dealArray} from 'xxxx' // 第三方包\n  export {\n    data () {\n      return {\n        a: 1,\n        dealArray, // 全部变成响应式数据，如果是嵌套数组或对象，还会不断遍历\n      }\n    }\n  }\n  var vm = new App()\n<\/script>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[t._v("Vue 底层使用 Object.defineproperty() 将第三方包引入 data 中，会将该 变量进行 vue 实例化绑定，进行双向数据监听，如果该变量嵌套数组或对象，将不断遍历监听下去，容易导致内存泄露")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("vue Dep 维护依赖 Watcher （v-html, v-if）===> 是用来链接视图层和相应数据层的\nMVVM  M(数据)  V(视图)  VM(链接 ==> Watcher 有一个唯一id标识)")])]),t._v(" "),s("p",[t._v("底层原理待了解……")]),t._v(" "),s("h2",{attrs:{id:"object-defineproperty-能不能监听数组？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#object-defineproperty-能不能监听数组？","aria-hidden":"true"}},[t._v("#")]),t._v(" Object.defineProperty() 能不能监听数组？")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      enumerable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      configurable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`get获取的key: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(", value: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`set=设置的key：")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(", value: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("newVal"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineReactive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" arr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小明'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小华'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小刚'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("ol",[s("li",[s("p",[t._v("Object,defineProperty 只能检测到对象一开始的时候数据里有的key\n对于数组，设置已监听数据的下标的时候，才会触发")])]),t._v(" "),s("li",[s("p",[t._v("数组 "),s("code",[t._v("push")]),t._v(" 的时候，一定不会触发\nunshift， pop 可能会触发")])])]),t._v(" "),s("h2",{attrs:{id:"为什么在vue2源码里重新数据的监听和操作方法？？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么在vue2源码里重新数据的监听和操作方法？？","aria-hidden":"true"}},[t._v("#")]),t._v(" 为什么在vue2源码里重新数据的监听和操作方法？？")]),t._v(" "),s("p",[t._v("不是 "),s("code",[t._v("Object.defineProperty")]),t._v(" 监听不到数组的变更，因为对于数组的每一次操作，都可能影响其他 key 索引的变更。在多数情况下，需要去遍历数组，重新检测。")]),t._v(" "),s("h2",{attrs:{id:"vue2数组怎么处理的？？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue2数组怎么处理的？？","aria-hidden":"true"}},[t._v("#")]),t._v(" vue2数组怎么处理的？？")]),t._v(" "),s("h2",{attrs:{id:"keep-alive-如何实现？？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#keep-alive-如何实现？？","aria-hidden":"true"}},[t._v("#")]),t._v(" keep-alive 如何实现？？")]),t._v(" "),s("h2",{attrs:{id:"set-做了什么处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-做了什么处理","aria-hidden":"true"}},[t._v("#")]),t._v(" $set 做了什么处理")])])}],!1,null,null,null);a.default=e.exports}}]);